{"remainingRequest":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/projects/shop/tutorial_online_shop/src/components/catalog/v-catalog.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/src/components/catalog/v-catalog.vue","mtime":1621852607950},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAudi1jYXRhbG9nIHsKICAgIC5kMyB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIH0KICAgIC5kMyBoMzpiZWZvcmUgewogICAgICBjb250ZW50OiAiIjsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICB0b3A6IGNhbGMoNTAlIC0gNnB4KTsKICAgICAgbGVmdDogMDsKICAgICAgcmlnaHQ6IDA7CiAgICAgIGhlaWdodDogMTJweDsKICAgICAgbWFyZ2luOiAwIDEwdncgMCAzMHZ3OwogICAgICBiYWNrZ3JvdW5kOiBzYW5keWJyb3duOwogICAgICB6LWluZGV4OiAtMTsKICAgIH0KICAgIC5kMyBzcGFuIHsKICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgIHBhZGRpbmc6IDAgMTVweDsKICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7CiAgICB9CiAgICAKICAgIC5tYWluIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1mbG93OiByb3c7CiAgICB9CgoKICAgICZfX2xpc3QgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBmbGV4LWZsb3c6IHJvdyB3cmFwOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgZmxleDogMyAxIGF1dG87CiAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgICAgaGVpZ2h0OiA1NTBweDsKICAgIH0KICAgIC52LWNhdGFsb2ctaXRlbSB7CiAgICAgIG1pbi13aWR0aDogMzAwcHg7CiAgICB9CiAgfQoKICAuZmlsdGVycyB7CiAgICBmbGV4OiAxIDEgYXV0bzsKICAgIG1heC13aWR0aDogMjcwcHg7CiAgICBwYWRkaW5nOiAzMHB4IDIwcHggMCAyMHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZmxvdzogY29sdW1uOwogICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwogICAgcG9zaXRpb246IHJlbGF0aXZlOwoKICAgIGxhYmVsIHsKICAgICAgbGluZS1oZWlnaHQ6IDM4cHg7CiAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICAgIGZvbnQtZmFtaWx5OiAnQ29ybW9yYW50IEdhcmFtb25kJywgc2VyaWY7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7CiAgICB9CgogICAgJjo6YWZ0ZXIgewogICAgICBjb250ZW50OiAnJzsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIHdpZHRoOiAycHg7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgcG9zaXRpb246IGFic29sdXRlOyAKICAgICAgcmlnaHQ6IDA7CiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNjY2NjY2M7CiAgICAgIGJveC1zaGFkb3c6IDAgMCA4cHggMCAjZTBlMGUwOwogICAgfQoKICAgIGlucHV0LCBzZWxlY3QgewogICAgICBoZWlnaHQ6IDM0cHg7CiAgICAgIGxpbmUtaGVpZ2h0OiAzNHB4OwogICAgICBmb250LXNpemU6IDIwcHg7CiAgICAgIGZvbnQtZmFtaWx5OiAnQ29ybW9yYW50IEdhcmFtb25kJywgc2VyaWY7CiAgICAgIHBhZGRpbmc6IDAgMTBweDsKICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI0RERERERDsKICAgICAgY29sb3I6ICM4MDgwODA7CiAgICAgIG91dGxpbmU6IG5vbmU7CiAgICB9CgoKICAgIGlucHV0OmZvY3VzLCBzZWxlY3Q6Zm9jdXMgewogICAgICBib3JkZXItY29sb3I6IHNhbmR5YnJvd247CiAgICB9CiAgfQoKICAucmFuZ2UtdmFsdWVzIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgfQoKICAucmFuZ2Utc2xpZGVyIHsKICAgIG1hcmdpbjogMjBweCBhdXRvOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogIH0KCi52LWNhdGFsb2dfX2xpbmtfdG9fY2FydCB7CiAgcG9zaXRpb246IGZpeGVkOwogIHdpZHRoOiAxMDBweDsKICByaWdodDogOHB4OwogIHRvcDogNjRweDsKICBwYWRkaW5nOiAwIDBweDsKICB6LWluZGV4OiAxMjA7CgogIGltZyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiA4NXB4OwogICAgaGVpZ2h0OiA4NXB4OwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAyOHB4OwogICAgcmlnaHQ6IC0ycHg7CiAgfQogIHAgewogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMCAycHg7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgei1pbmRleDogMTIwOwogIH0KICAgIHNwYW4gewogICAgICBtYXJnaW46IC0xM3B4IDAgMCAyMCU7CiAgICAgIHdpZHRoOiA0MHB4OwogICAgICBwYWRkaW5nOiAyMnB4IDQwcHggMTBweCAzMHB4OwogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgIGNvbG9yOiBibGFjazsKICAgIH0KfQoKLmNvbnN1bHQtd3JhcCB7CiAgcG9zaXRpb246IGZpeGVkOwogIGxlZnQ6IDhweDsKICB0b3A6IC0yNHB4OwogIHBhZGRpbmc6IDAgMHB4OwogIHotaW5kZXg6IDEyMDsKCiAgaW1nIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDg1cHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDEyMHB4OwogICAgbGVmdDogMjhweDsKICAgIHotaW5kZXg6IDU7CiAgfQogIHAgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgZm9udC1zaXplOiAxOHB4OwogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMCA1cHg7CiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgdG9wOiA5MHB4OwogICAgbGVmdDogOHB4OwogICAgei1pbmRleDogMTA2OwogIH0KfQoKLmJ0bi1jbGVhbiB7CiAgYm9yZGVyOiBub25lOyAKICBwYWRkaW5nOiAxMnB4IDA7IAogIGJvcmRlci1yYWRpdXM6IDVweDsgCiAgY29sb3I6IHdoaXRlOyAKICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodHN0ZWVsYmx1ZTsKCiAgJjpIb3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBzYW5keWJyb3duOwogIH0KfQo="},{"version":3,"sources":["v-catalog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"v-catalog.vue","sourceRoot":"src/components/catalog","sourcesContent":["<template>\n  <div class='v-catalog'>\n\n    <v-notification\n        :messages=\"messages\"\n        style=\"z-index: 200;\"\n    />\n\n    <router-link :to=\"{name: 'cart', params: {cart_data: CART}}\">\n      <div class=\"v-catalog__link_to_cart\">\n        <p>Кошик</p>\n        <span>{{CART.length}}</span>\n        <img src=\"../../assets/shopping-cart.png\"/>\n      </div>\n    </router-link>\n    <div class=\"d3\"><h3><span>Каталог товарів</span></h3></div>\n    <div class=\"main\">\n      <div class=\"filters\">\n        <label>Фільтр по категоріям</label>\n        <select v-model=\"selectCategory\">\n          <option value=\"0\">Всі категорії</option>\n            <option v-for=\"(category, id) in categories\" :key=\"id\" :value=\"category\">{{ category }}</option>\n        </select>\n        <br>\n        <label>Фільтр по ціні</label>\n        <span style=\"text-align: left\">Мінімальна ціна</span>\n        <input v-model.number=\"minPrice\" type=\"number\" />\n        <span style=\"text-align: left\">Максимальна ціна</span>\n        <input v-model.number=\"maxPrice\" type=\"number\" />\n            <br>\n        <label>Фільтр по брендам</label>\n        <select v-model=\"selectBrand\">\n            <option value=\"0\">Всі бренди</option>\n            <option v-for=\"(brand, id) in brands\" :key=\"id\" :value=\"brand\">{{ brand }}</option>\n        </select>\n            <br>\n        <label>Пошук по назві</label>\n        <input v-model.trim=\"inputSearch\" type=\"text\" placeholder=\"MacBook Air\" />\n            <br>\n        <button @click=\"clear\" class=\"primary btn-clean\">Скинути фільтри</button>\n      </div>\n      <div class=\"v-catalog__list\">\n        <v-catalog-item\n            v-for=\"product in filteredPr\"\n            :key=\"product.key\"\n            :product_data=\"product\"\n            @addToCart=\"addToCart\"\n            @productClick=\"productClick\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import vCatalogItem from './v-catalog-item'\n  import {mapActions, mapGetters} from 'vuex'\n  import vNotification from '../notifications/v-notification'\n\n  export default {\n    name: \"v-catalog\",\n    components: {\n      vCatalogItem,\n      vNotification,\n    },\n    props: {},\n    data() {\n      return {\n        categories: [],\n        sortedProducts: [],\n        minPrice: 0,\n        maxPrice: 10000,\n        messages: [],\n        brands: [],\n        inputSearch: '',\n      }\n    },\n    computed: {\n      ...mapGetters([\n        'PRODUCTS',\n        'CART',\n        'IS_MOBILE',\n        'IS_DESKTOP',\n        'SEARCH_VALUE',\n      ]),\n      filteredPr: function() {\n\n        var filtered = [...this.PRODUCTS]\n\n          .filter(product => {\n            return this.selectCategory == 0 || product.category == this.selectCategory;\n          })\n\n          .filter(product => {\n            return this.selectBrand == 0 || product.brand == this.selectBrand;\n          })\n\n          .filter(product => {\n            return Number(product.price) >= this.minPrice && Number(product.price) <= this.maxPrice;\n          })\n          \n          .filter(product => {\n            return this.inputSearch == '' || product.title.toLowerCase().indexOf(this.inputSearch.toLowerCase()) !== -1;\n          })\n          \n          return filtered\n      },\n    },\n    methods: {\n      ...mapActions([\n        'GET_PRODUCTS_FROM_API',\n        'ADD_TO_CART'\n      ]),\n      productClick(key) {\n        this.$router.push( {name: 'product', query: { 'product': key }})\n      },\n      addToCart(data) {\n        this.ADD_TO_CART(data)\n          .then(() => {\n            let timeStamp = Date.now().toLocaleString();\n            this.messages.unshift(\n              {name: 'Товар додано до кошика', icon: 'check_circle', id: timeStamp}\n            )\n          })\n      },\n      sortProductsBySearchValue(value) {\n        this.sortedProducts = [...this.PRODUCTS]\n        if (value) {\n          this.sortedProducts = this.sortedProducts.filter(function (item) {\n            return item.title.toLowerCase().includes(value.toLowerCase())\n          })\n        } else {\n          this.sortedProducts = this.PRODUCTS;\n        }\n      },\n        getMinPrice: function() {\n          return this.sortedProducts.map((item) => {\n            return item.price })\n        },\n        getMaxPrice: function() {\n          return this.sortedProducts.map((item) => {\n            return item.price })\n        },\n        getBrands: function() {\n          return this.sortedProducts.map((item) => {\n            return item.brand })\n        },\n        getCategory: function() {\n          return this.sortedProducts.map((item) => {\n            return item.category })\n        },\n        clear: function() {\n            this.inputSearch = '';\n            this.selectCategory = 0;\n            this.selectBrand = 0;\n            this.minPrice = Math.min.apply(Math, this.getMinPrice());\n            this.maxPrice = Math.max.apply(Math, this.getMaxPrice());\n        },\n        unique: function(arr) {\n          let result = [];\n          for (let str of arr) {\n            if (!result.includes(str)) {\n              result.push(str);\n            }\n          }\n          return result;\n        }\n    },\n    watch: {\n      SEARCH_VALUE() {\n        this.sortProductsBySearchValue(this.SEARCH_VALUE);\n      },\n    },\n    mounted() {\n      this.GET_PRODUCTS_FROM_API()\n        .then((response) => {\n          if (response.data) {\n            this.sortProductsBySearchValue(this.SEARCH_VALUE)\n            this.minPrice = Math.min.apply(Math, this.getMinPrice())\n            this.maxPrice = Math.max.apply(Math, this.getMaxPrice())\n            this.brands = this.unique(this.getBrands())\n            this.categories = this.unique(this.getCategory())\n          }\n        })\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .v-catalog {\n    .d3 {\n      position: relative;\n    }\n    .d3 h3:before {\n      content: \"\";\n      position: absolute;\n      top: calc(50% - 6px);\n      left: 0;\n      right: 0;\n      height: 12px;\n      margin: 0 10vw 0 30vw;\n      background: sandybrown;\n      z-index: -1;\n    }\n    .d3 span {\n      background: white;\n      padding: 0 15px;\n      margin-left: 20px;\n    }\n    \n    .main {\n      display: flex;\n      flex-flow: row;\n    }\n\n\n    &__list {\n      display: flex;\n      flex-flow: row wrap;\n      justify-content: space-around;\n      align-items: center;\n      flex: 3 1 auto;\n      overflow-y: scroll;\n      height: 550px;\n    }\n    .v-catalog-item {\n      min-width: 300px;\n    }\n  }\n\n  .filters {\n    flex: 1 1 auto;\n    max-width: 270px;\n    padding: 30px 20px 0 20px;\n    display: flex;\n    flex-flow: column;\n    justify-content: flex-start;\n    position: relative;\n\n    label {\n      line-height: 38px;\n      text-align: left;\n      text-transform: uppercase;\n      font-family: 'Cormorant Garamond', serif;\n      font-weight: bolder;\n    }\n\n    &::after {\n      content: '';\n      display: block;\n      width: 2px;\n      height: 100%;\n      position: absolute; \n      right: 0;\n      border-right: 1px solid #cccccc;\n      box-shadow: 0 0 8px 0 #e0e0e0;\n    }\n\n    input, select {\n      height: 34px;\n      line-height: 34px;\n      font-size: 20px;\n      font-family: 'Cormorant Garamond', serif;\n      padding: 0 10px;\n      background: #ffffff;\n      border: 1px solid #DDDDDD;\n      color: #808080;\n      outline: none;\n    }\n\n\n    input:focus, select:focus {\n      border-color: sandybrown;\n    }\n  }\n\n  .range-values {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .range-slider {\n    margin: 20px auto;\n    text-align: center;\n    position: relative;\n  }\n\n.v-catalog__link_to_cart {\n  position: fixed;\n  width: 100px;\n  right: 8px;\n  top: 64px;\n  padding: 0 0px;\n  z-index: 120;\n\n  img {\n    display: block;\n    width: 85px;\n    height: 85px;\n    position: absolute;\n    top: 28px;\n    right: -2px;\n  }\n  p {\n    color: white;\n    padding: 0 2px;\n    font-size: 18px;\n    text-transform: uppercase;\n    z-index: 120;\n  }\n    span {\n      margin: -13px 0 0 20%;\n      width: 40px;\n      padding: 22px 40px 10px 30px;\n      display: block;\n      background: white;\n      color: black;\n    }\n}\n\n.consult-wrap {\n  position: fixed;\n  left: 8px;\n  top: -24px;\n  padding: 0 0px;\n  z-index: 120;\n\n  img {\n    display: block;\n    width: 85px;\n    position: absolute;\n    top: 120px;\n    left: 28px;\n    z-index: 5;\n  }\n  p {\n    position: absolute;\n    font-size: 18px;\n    color: white;\n    padding: 0 5px;\n    text-transform: uppercase;\n    top: 90px;\n    left: 8px;\n    z-index: 106;\n  }\n}\n\n.btn-clean {\n  border: none; \n  padding: 12px 0; \n  border-radius: 5px; \n  color: white; \n  background-color: lightsteelblue;\n\n  &:Hover {\n    background-color: sandybrown;\n  }\n}\n</style>\n"]}]}