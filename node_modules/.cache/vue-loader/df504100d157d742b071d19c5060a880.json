{"remainingRequest":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/projects/shop/tutorial_online_shop/src/components/cart/v-cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/src/components/cart/v-cart.vue","mtime":1620145443563},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/projects/shop/tutorial_online_shop/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB2Q2FydEl0ZW0gZnJvbSAnLi92LWNhcnQtaXRlbScKaW1wb3J0IHRvRml4IGZyb20gIi4uLy4uL2ZpbHRlcnMvdG9GaXgiOwppbXBvcnQgZm9ybWF0dGVkUHJpY2UgZnJvbSAiLi4vLi4vZmlsdGVycy9wcmljZS1mb3JtYXQiOwppbXBvcnQge21hcEFjdGlvbnN9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInYtY2FydCIsCiAgY29tcG9uZW50czogewogICAgdkNhcnRJdGVtCiAgfSwKICBwcm9wczogewogICAgY2FydF9kYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXQogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdHRlZFByaWNlLAogICAgdG9GaXgKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJ0VG90YWxDb3N0KCkgewogICAgICBsZXQgcmVzdWx0ID0gW10KCiAgICAgIGlmICh0aGlzLmNhcnRfZGF0YS5sZW5ndGgpIHsKICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuY2FydF9kYXRhKSB7CiAgICAgICAgICByZXN1bHQucHVzaChpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSkKICAgICAgICB9CgogICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgZWwpIHsKICAgICAgICAgIHJldHVybiBzdW0gKyBlbDsKICAgICAgICB9KQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDAKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbCiAgICAgICdERUxFVEVfRlJPTV9DQVJUJywKICAgICAgJ0lOQ1JFTUVOVF9DQVJUX0lURU0nLAogICAgICAnREVDUkVNRU5UX0NBUlRfSVRFTScKICAgIF0pLAogICAgaW5jcmVtZW50KGluZGV4KSB7CiAgICAgIHRoaXMuSU5DUkVNRU5UX0NBUlRfSVRFTShpbmRleCkKICAgIH0sCiAgICBkZWNyZW1lbnQoaW5kZXgpIHsKICAgICAgdGhpcy5ERUNSRU1FTlRfQ0FSVF9JVEVNKGluZGV4KQogICAgfSwKICAgIGRlbGV0ZUZyb21DYXJ0KGluZGV4KSB7CiAgICAgIHRoaXMuREVMRVRFX0ZST01fQ0FSVChpbmRleCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["v-cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"v-cart.vue","sourceRoot":"src/components/cart","sourcesContent":["<template>\n  <div class='v-cart'>\n\n        <router-link :to=\"{name: 'catalog'}\">\n          <button\n            class=\"v-cart__link_to_catalog\"\n          >\n          <span class=\"material-icons\">\n          arrow_back\n          </span>\n          Назад до каталогу\n          </button>\n        </router-link>\n    <h1>Кошик</h1>\n    <div class=\"v-cart-body\">\n    <p v-if=\"!cart_data.length\">Кошик пустий...</p>\n    <v-cart-item\n        v-for=\"(item, index) in cart_data\"\n        :key=\"item.key\"\n        :cart_item_data=\"item\"\n        @deleteFromCart=\"deleteFromCart(index)\"\n        @increment=\"increment(index)\"\n        @decrement=\"decrement(index)\"\n    />\n    <div class=\"v-cart__total\">\n      <p class=\"total__name\">Загалом:</p>\n      <p>{{cartTotalCost | toFix | formattedPrice}}</p>\n    </div> \n    </div>\n\n  </div>\n</template>\n\n<script>\n  import vCartItem from './v-cart-item'\n  import toFix from \"../../filters/toFix\";\n  import formattedPrice from \"../../filters/price-format\";\n  import {mapActions} from 'vuex'\n\n  export default {\n    name: \"v-cart\",\n    components: {\n      vCartItem\n    },\n    props: {\n      cart_data: {\n        type: Array,\n        default() {\n          return []\n        }\n      }\n    },\n    data() {\n      return {\n      }\n    },\n    filters: {\n      formattedPrice,\n      toFix\n    },\n    computed: {\n      cartTotalCost() {\n        let result = []\n\n        if (this.cart_data.length) {\n          for (let item of this.cart_data) {\n            result.push(item.price * item.quantity)\n          }\n\n          result = result.reduce(function (sum, el) {\n            return sum + el;\n          })\n          return result;\n        } else {\n          return 0\n        }\n      }\n    },\n    methods: {\n      ...mapActions([\n        'DELETE_FROM_CART',\n        'INCREMENT_CART_ITEM',\n        'DECREMENT_CART_ITEM'\n      ]),\n      increment(index) {\n        this.INCREMENT_CART_ITEM(index)\n      },\n      decrement(index) {\n        this.DECREMENT_CART_ITEM(index)\n      },\n      deleteFromCart(index) {\n        this.DELETE_FROM_CART(index)\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .v-cart {\n    margin-bottom: 80px;\n    min-height: 50vh;\n\n    &__total {\n      position: relative;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      padding: $padding*2 $padding*3;\n      display: flex;\n      justify-content: center;\n      background: $main-bg;\n      color: #ffffff;\n      font-size: 20px;\n    }\n\n    .total__name {\n      margin-right: $margin*2;\n    }\n\n    &-body {\n      padding: 20px;\n      box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n    }\n  }\n\n  .v-cart__link_to_catalog {\n    position: fixed;\n    display: inline-block;\n    width: 270px;\n    line-height: 16px;\n    padding: 8px;\n    right: 0;\n    color: lightsteelblue;\n    background-color: white;\n    top: 94px;\n    border: none;\n\n    span {\n    position: absolute;\n    left: 5px;\n    top: 2px;\n    }\n\n    &:hover {\n      color: white;\n      background-color: lightgrey;\n    }\n\n    .v-cart__total {\n      height: 130px;\n    }\n  }\n</style>\n"]}]}